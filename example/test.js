const zlib = require('zlib')

const slugs = [
  '293d40fc-7239-43a3-b8f4-29a6dd3d04e1',
  'f8914481-ba4f-462d-ad31-82c76df814a9',
  'c6f4405f-9441-4f03-849b-82e27dd2c710',
  '09a52ead-1fc2-4435-afbb-fe880bec6bbd',
  '741c3514-abc7-438d-b989-0d3731275597',
  '446e0d93-3828-4565-b6c6-455bc547ba33',
  '923c834d-6b63-4ebb-9cba-86651dd3c4bd',
  '581954ef-37a5-4283-9578-1dcd0880bee5',
  '360c2da1-47ba-42f2-8853-6d31149dd019',
  '35b5dd2b-2b4e-4d3b-9b36-f84244c9a125',
  '0891db7d-2736-4779-8fac-f190dcb556c5',
  '1a87478f-fc01-4476-819a-812d5bfa3aed',
  'fb7b089a-c5d4-4e87-a591-2b35d37dd5c0',
  '67e7a7fa-e0b8-4db3-9a73-5701f402a9a8',
  'f12997d0-e893-46b0-80f9-9038549d8eda',
  '83b5c7b5-5434-43e3-873e-24ab2c860a91',
  '78cfbd9c-d265-4217-9af2-87b05979d66c',
  'ee9bda4c-5ab3-4a98-90af-20fcac144045',
  'fcc25c71-4290-4bb8-af3a-cb89bd8814f2',
  'f91b2017-7cb6-416a-a364-dd447a08f68a',
  'e33fa1bc-0a42-4de3-b2e4-5010117f45c8',
  '4b4949f0-fed6-40e8-b4ec-9d62ba01a09d',
  '20ce66fb-b7ff-4c2b-964e-76922a6474dc',
  '34829360-c42e-44ad-9b2c-8c26a39b7ec7',
  '1c9fd199-c7f0-4c78-86b8-889145b0ce5b',
  '685352df-f132-4b4d-87e8-b27078d4f63b',
  '59f74cf3-ec21-49e9-9906-bf9aadf36429',
  'b0924767-4ded-4a7d-a823-f4f0470fc4de',
  '14a5abc5-4a45-4db2-91c2-2a16032a9b20',
  '4b680f4f-ab6f-44f5-b87d-25c8487b1a88',
  '7a624f97-9f0a-4968-823d-2185c10b1871',
  '12e64b6e-c2f5-4811-a69c-3e4a1766b302',
  '59d94200-96c4-4332-b2e2-8f057092d276',
  '489ee1a7-91cd-479f-bef8-8b252fe6e561',
  '1962e137-bdf9-4c77-822a-e669821dd1e9',
  '758fc9e8-cdbc-4d17-9021-fc20de6c914e',
  '595c1a6c-6651-40ba-833f-b4eee27a904e',
  'c2c9857c-6f35-4728-9502-eb0d85bb5a46',
  'e9b3b0d3-5442-4140-bdfc-bfb7fcfbd69a',
  'd5e772eb-eefa-4fb8-912f-fe9fb63ba49d',
  '6240e7a5-1368-4a54-aff4-4cb0da9a71c7',
  '58e58be5-848e-4f13-a865-2c89da263a4a',
  '76c87762-7201-4deb-a403-5eb2bf6809fa',
  'd71eecc8-bbfa-4857-832e-a80cf369cf99',
  'c0c6e62b-2c62-4230-87e8-83db1b796de1',
  'b1a05809-3307-4446-a831-92a026061b1b',
  '2d896988-1ff4-4425-854e-92faee53e32f',
  'e455e14d-abb9-4180-b0ad-3432ef9cc1ea',
  '5279c4a0-0dda-42bd-b85f-5bf5fba8fd89',
  '9f9bceca-931d-46ff-9a3d-568320e5fb5b',
  'cc6d9d62-0f47-4851-96ce-49829fcc08a0',
  'c1b80308-cd34-421a-91ef-ad1121a03dd2',
  '0b9fcf49-6e55-4a7d-a521-f78c548e046b',
  'b935e5b5-701d-4776-ab4c-775b09cb7260',
  '556368c5-ecbe-4116-8a9c-307ae8221878',
  '30d08b7c-1779-43d4-9d78-c5004b2314e2',
  'eaa2bffa-7438-40bc-a698-1b3eee9e5065',
  'f3c06478-eab9-4799-9368-9862d83ff757',
  '9a4ff234-5014-49a6-8cc3-603b72c8e5eb',
  '1f5eabea-27c8-4ef0-b043-f1cd4e30a622',
  'b07c5cd1-b49a-42f8-838d-bed67a35bca3',
  '9a015b44-e16b-4fce-be51-b6fcfdeac673',
  'e6f5f640-e57e-4532-9736-7ded73606931',
  '11ac66b5-6653-4fdd-911e-6aab12c5cb56',
  '95a119eb-56e5-4b14-9e9c-76483cfbb897',
  '086dabc1-e5e2-45a7-b7fd-5dd4d9ce5326',
  '11baed5b-34be-4fae-a54f-84d7d078e465',
  'e5e39204-5487-428f-9c3f-4053c0591917',
  '0354db12-28d3-4717-8586-d1354025ed6b',
  'c8d923d1-69dd-4ef7-85f6-24f31ae57975',
  'e4087c67-f397-4e29-957e-560b5322672b',
  'c0075f63-20d9-4ca1-8299-05b72962fce2',
  'f966ac78-598c-4330-a058-4681d5f72246',
  '9b25220d-17bf-40ef-a028-cd9f9437c353',
  'dcf003fa-d24c-4560-a00f-202d053a1b64',
  'dc06901b-b099-44ca-9e35-223aa6492e2d',
  '5703b592-578e-4be5-80ef-519251752b0a',
  'd62649a5-f93b-4b71-91bf-9c6010feda88',
  '13314c38-8eeb-483c-8e9e-1d41f9e8d020',
  '5ef53cc6-e5b5-4f72-9d9c-b55dd0df5b8e',
  'affc5f7c-8d23-4aff-92d3-c8e443bdd7ac',
  'd4bacd77-3cb1-46af-8efc-476c94541dc4',
  '4944d821-d0a1-41a6-87f4-441438f99f62',
  'd3cd51ba-381a-43d1-816e-648b8519bc57',
  'fe4dde80-1a91-41ff-b935-9af50e247628',
  '6bd3f3f7-d34a-43de-8c35-063c69023ded',
  'b3b26c02-1884-4bd4-a703-09d9ee3987c4',
  '4db75f75-79a4-48f4-b96c-375e6702a00b',
  'a598f7a2-c4dc-4365-9ef2-a2c4c3f03559',
  '902b3b68-3f03-4abb-bc15-c4e550d0e498',
  'd92bd021-efec-446d-9229-0d817c3214b2',
  'a27f1b52-7687-43ee-8b45-d8a5ff16b9dd',
  '2f6e8fc5-e033-4358-9bd7-0cf1c8e078af',
  '07646a17-76f7-4799-8751-ee398433b0a0',
  'b5a30438-c856-4229-bbde-eaeabf7a0b9e',
  '78d41b89-dd69-44ba-b69b-839219240e48',
  '4182f6f5-bdb1-4c55-a594-10f7bfb12cfb',
  'f798dbcb-b3a1-4382-8924-a4fc5461f036',
  'cbaf6c59-9c03-40b8-8874-e1da9a64e7f1',
  '700df37d-bef2-4b5e-a638-cb194e8db9b0',
  '1e2186f3-6204-4810-991b-bfd849e35fe6',
  '18463219-4370-4e34-8312-327f56fd5e5d',
  '74a5341a-e29c-4a30-854e-54b444de5f13',
  'ad0156d8-fcd2-4e32-930a-7d03378d8d81',
  '0d0a4e3c-10b3-47f3-8b10-ae015c6a763a',
  'af3ed9ba-775f-4467-a133-f3f93be5f072',
  '1aad0ba1-a357-4479-98ae-2901a26697ff',
  '4f09339b-14e7-45c4-9421-a473faed081b',
  '997f30ea-41f3-4535-a7c1-d375d5394b5e',
  'e42db8d8-f4e8-492c-8313-ee9378df3e63',
  '703a34a2-f1f7-48bc-9c28-c16c79d6d09e',
  '41eba560-a98e-4e15-a57f-e9342d05783c',
  'd27349d7-922a-43e6-8d5a-0038091d0fdd',
  'bd71c23c-e943-443f-8e61-e916ab25c3b0',
  'eea9b070-f285-417e-974f-d16dac2778a8',
  'e7afd46c-b7fc-4702-a34d-a189fc41c8a1',
  '608a72bb-2a95-4d6d-99f3-c7731882875e',
  '4b0c5a20-f8d5-4e7c-848e-1cbd059d4a8e',
  'a82e4cf7-2eba-48f7-a697-5699cf2bba88',
  '154d3c0c-bcc7-4043-839e-3096d97b8bed',
  '6330769b-8341-4c70-9ab7-0d3bbce7d674'
]

const test = {
  join: slugs.join('\x00'),
  json: JSON.stringify(slugs),
  slug: '293d40fc-7239-43a3-b8f4-29a6dd3d04e1',
  obj: '{"identifier":{"type":"RPPS","value":"11111111111"},"slug":"RPPS-11111111111","lastname":"PandaLab","firstname":"Test","gender":"M","profession":"informaticien","speciality":"Assistant","organizations":["FINESS-999999999","SIREN-820708055","SIRET-82070805500018"]}',
  accents: '{"identifier":{"type":"RPPS","value":"11111111111"},"slug":"RPPS-11111111111","lastname":"PandaLab","firstname":"Test","gender":"M","profession":"informaticien","speciality":"Assistantééèâ","organizations":["FïÎNESS-999999999","S€IREN-820708055","SIRET-82070805500018"]}'
}

for (const key of Object.keys(test)) {
  const buf = Buffer.from(test[key])
  const gzip = zlib.deflateSync(buf)
  const resBuf = zlib.inflateSync(gzip)
  const resStr = resBuf.toString('utf8')

  console.info({
    test: key,
    length: {
      str: test[key].length,
      buffer: buf.length,
      gzip: gzip.length,
      resBuf: resBuf.length,
      resStr: resStr.length
    },
    same: test[key] === resStr,
    gzip
  })
}
